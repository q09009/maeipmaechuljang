// ë§¤ì…ë§¤ì¶œì¥ ì›ë˜ì½”ë“œ
import QtQuick.Controls
import QtQuick.Layouts
import QtQuick
import "./qml"



ApplicationWindow {
    id: mainWindow
    visible: true
    width: 1920
    height: 1080
    title: "ë§¤ì…ë§¤ì¶œì¥"

    property string dataFilePath: "data/data.xlsx"
    //property string recordFilePath: "data/record.xlsx"
    // data.xlsxì—ì„œ ì½ì–´ì˜¨ ë¦¬ìŠ¤íŠ¸
    property list<string> supplierList
    property list<string> productList
    property list<string> sizeList
    property list<string> priceList

    //record.xlsxì—ì„œ ì½ì–´ì˜¨ ë¦¬ìŠ¤íŠ¸
    property int amountSum: 0
    property int gonggaSum: 0
    property int bugaSum: 0
    property int hapgyeSum: 0
    property int ipamountSum: 0
    property int misuSum: 0
    property int gaesoo: 0
    property list<int> readRows
    property var combinedModel: []


    Component.onCompleted: {            //ApplicationWindowê°€ ì¼œì§€ë©´ ì—‘ì…€íŒŒì¼ ë¡œë“œ
        // ğŸ‘ˆ C++ì˜ Q_INVOKABLE í•¨ìˆ˜ í˜¸ì¶œ!
        if (excelData.loadExcelData(dataFilePath)) {
            // ë¡œë“œ ì„±ê³µ í›„ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
            var suppliers = excelData.getDataName();
            var products = excelData.getDataProduct();
            var sizes = excelData.getDataSize();
            var prices = excelData.getDataPrice();

            console.log("ë¡œë“œ ì„±ê³µ! ì—…ì²´ ìˆ˜: " + products.length);

            for(let i=0;i<suppliers.length;i++) {
                if(suppliers[i] === "") {
                    break;
                }
                else {
                    mainWindow.supplierList.push(suppliers[i]);
                }
            }

            for(let j=0;j<products.length;j++) {
                mainWindow.productList.push(products[j]);
                mainWindow.sizeList.push(sizes[j]);
                mainWindow.priceList.push(prices[j]);
            }

        } else {
            console.log("ë¡œë“œ ì‹¤íŒ¨! ê²½ë¡œë¥¼ í™•ì¸í•˜ì„¸ìš”.");
        }
    }


    menuBar: MenuBar {
        Menu {
            title: qsTr("ì¶”ê°€")
            MenuItem {
                text: qsTr("ì—…ì²´ ì¶”ê°€")
                onTriggered: supplierAddPopup.open()
            }

            MenuItem {
                text: qsTr("ìƒí’ˆ ì¶”ê°€")
                onTriggered: productAddPopup.open()
            }
        }
        Menu {
            title: qsTr("yees")
            Action { text: qsTr("yeee") }
        }
    }
    Popup {
        id: supplierAddPopup
        width: 200
        height: 50
        //anchors.centerIn: mainWindow

        modal: true
        closePolicy: Popup.CloseOnPressOutside
        contentItem: Row {
            TextField {
                id: supplierAddTextfield
                placeholderText: qsTr("ì—…ì²´ëª… ì…ë ¥")
            }
            Button {
                id: supplierAddButton
                text: qsTr("ì…ë ¥")
                onClicked: {
                    excelData.writeDataName(supplierAddTextfield.text, mainWindow.supplierList.length);
                    mainWindow.supplierList.push(supplierAddTextfield.text);
                    console.log("ì¶”ê°€ ì„±ê³µ");
                }
            }
            Button {
                id: supplierAddPopupClose
                text: qsTr("X")
                onClicked: supplierAddPopup.close()
            }
        }

    }
    Popup {
        id: productAddPopup
        width: 350
        height: 50
        //anchors.centerIn: mainWindow

        modal: true
        closePolicy: Popup.CloseOnPressOutside
        contentItem: Row {
            TextField {
                id: productAddName
                placeholderText: qsTr("ìƒí’ˆëª…")
            }
            TextField {
                id: productAddSize
                placeholderText: qsTr("ê·œê²©")
                width: 80
            }
            TextField {
                id: productAddPrice
                placeholderText: qsTr("ë‹¨ê°€")
                width: 80
            }
            Button {
                id: productAddButton
                text: qsTr("ì…ë ¥")
                onClicked:  {
                    excelData.writeDataProduct(productAddName.text, productAddSize.text, productAddPrice.text);
                    mainWindow.productList.push(productAddName.text);
                    mainWindow.sizeList.push(productAddSize.text);
                    mainWindow.priceList.push(productAddPrice.text);
                    console.log("ì¶”ê°€ ì„±ê³µ");
                }
            }
            Button {
                id: productAddPopupClose
                text: qsTr("X")
                onClicked: productAddPopup.close()
            }
        }
    }


    ColumnLayout{
        spacing: 15
        Layout.alignment: Qt.AlignVCenter
        RowLayout {       //ì—¬ê¸°í•˜ê³  ë°‘ì— ë¡œìš°ëŠ” ì…ë ¥í•˜ëŠ” ë¶€ë¶„
            spacing: 10
            //Layout.alignment: Qt.AlignHCenter

            Text {
                text: qsTr("êµ¬ë¶„")
                font.pixelSize: 18
            }
            Button {
                id: maeip
                property bool mae: true
                text: qsTr(maeip.mae ? "ë§¤ì…" : "ë§¤ì¶œ")
                onClicked: {
                    maeip.mae = maeip.mae ? false : true
                }
            }

            Text {
                text: qsTr("ê±°ë˜ì¼ì")
                font.pixelSize: 18
            }

            Button {
                id: calendarButton
                property date currentDate : new Date()
                text: qsTr(`${calendarButton.currentDate.getFullYear()}ë…„ ${calendarButton.currentDate.getMonth()+1}ì›” ${calendarButton.currentDate.getDate()}ì¼`)

                onClicked: {
                    calendarPopup.open()
                }
            }

            Popup {
                id: calendarPopup
                width: 270
                height: 300
                anchors.centerIn: mainWindow

                modal: true     //ë’¤ì— ë‹¤ë¥¸ìš”ì†Œì™€ ìƒí˜¸ì‘ìš© ì°¨ë‹¨ = true, í—ˆìš© = false
                closePolicy: Popup.CloseOnPressOutside    //escëˆ„ë¥´ë©´ ë‹«í˜
                contentItem: MyCalendar {
                    anchors.horizontalCenter: parent.horizontalCenter
                    anchors.top: parent.top
                    anchors.topMargin: 10
                    calendarParent: 0
                }
            }
            Text {
                text: qsTr("ê±°ë˜ì²˜ëª…")
                font.pixelSize: 18
            }
            ComboBox {
                id: supplierComboBox
                width: 200
                height: 25
                // ëª©ë¡ì— í‘œì‹œë  ë°ì´í„° ëª¨ë¸
                model: supplierList

                // í˜„ì¬ ì„ íƒëœ ì¸ë±ìŠ¤ (0ë¶€í„° ì‹œì‘)
                currentIndex: 0

                // ì„ íƒëœ í•­ëª©ì´ ë³€ê²½ë  ë•Œ ë™ì‘
                onActivated: (index) => {
                    console.log("ì„ íƒëœ ì˜µì…˜:", supplierComboBox.currentText);
                }

                popup: Popup {
                    y: supplierComboBox.height - 1
                    width: supplierComboBox.width
                    height: Math.min(contentItem.implicitHeight, 600)
                    padding: 1

                    contentItem: ListView {
                        clip: true
                        implicitHeight: contentHeight
                        model: supplierComboBox.popup.visible ? supplierComboBox.delegateModel : null
                        currentIndex: supplierComboBox.highlightedIndex

                        ScrollBar.vertical: ScrollBar {
                            policy: ScrollBar.AlwaysOn
                        }
                    }
                }
            }

            Text {
                text: qsTr("ìƒí’ˆëª…")
                font.pixelSize: 18
            }
            ComboBox {
                id: productComboBox
                width: 200
                height: 25
                // ëª©ë¡ì— í‘œì‹œë  ë°ì´í„° ëª¨ë¸
                model: productList

                // í˜„ì¬ ì„ íƒëœ ì¸ë±ìŠ¤ (0ë¶€í„° ì‹œì‘)
                currentIndex: 0

                popup: Popup {
                    y: productComboBox.height - 1
                    width: productComboBox.width
                    height: Math.min(contentItem.implicitHeight, 600)
                    padding: 1

                    contentItem: ListView {
                        clip: true
                        implicitHeight: contentHeight
                        model: productComboBox.popup.visible ? productComboBox.delegateModel : null
                        currentIndex: productComboBox.highlightedIndex

                        ScrollBar.vertical: ScrollBar {
                            policy: ScrollBar.AlwaysOn
                        }
                    }
                }

                // ì„ íƒëœ í•­ëª©ì´ ë³€ê²½ë  ë•Œ ë™ì‘
                onActivated: (index) => {
                    console.log("ì„ íƒëœ ì˜µì…˜ë²ˆí˜¸:", productComboBox.currentIndex);
                }


            }

            Text {
                text: qsTr("ê·œê²©")
                font.pixelSize: 18
            }

            TextField {
                id: textSize
                text: mainWindow.sizeList[productComboBox.currentIndex]
            }


            Text {
                text: qsTr("ë‹¨ê°€")
                font.pixelSize: 18
            }
            TextField {
                id: textPrice
                text: mainWindow.priceList[productComboBox.currentIndex]
            }
        }
        RowLayout {
            spacing: 10
            //Layout.alignment: Qt.AlignHCenter
            Text {
                text: qsTr("ìˆ˜ëŸ‰")
                font.pixelSize: 18
            }
            TextField {
                id: textAmount
                width: 50
                text: "1"
            }

            Text {
                text: qsTr("ì„¸ì•¡êµ¬ë¶„")
                font.pixelSize: 18
            }
            Button {
                id: taxornot
                property bool ta: true
                text: qsTr(taxornot.ta ? "ë³„ë„" : "ì—†ìŒ")
                onClicked: {
                    taxornot.ta = taxornot.ta ? false : true
                }
            }

            Text {
                text: qsTr("ê³µê¸‰ê°€ì•¡")
                font.pixelSize: 18
            }
            TextField {
                id: textGongGa
                text: {
                    var textIntPrice = parseInt(textPrice.text);
                    var textIntAmount = parseInt(textAmount.text);
                    if(isNaN(textIntPrice) || isNaN(textIntAmount)) {
                        return "ìˆ«ìê°€ ì•„ë‹˜";
                    }
                    else {
                        return textIntPrice * textIntAmount
                    }
                }
            }

            Text {
                text: qsTr("ë¶€ê°€ì„¸ì•¡")
                font.pixelSize: 18
            }
            TextField {
                id: textBuGa
                text: {
                    var textGongGeupGaAek = parseInt(textGongGa.text);
                    if(isNaN(textGongGeupGaAek)) {
                        return "ìˆ«ìê°€ ì•„ë‹˜";
                    }
                    else {
                        return textGongGeupGaAek*0.1
                    }
                }
            }
            Text {
                text: qsTr("í•©ê³„ê¸ˆì•¡")
                font.pixelSize: 18
            }
            TextField {
                id: textHapGye
                text: {
                    var textGongGeupGaAek = parseInt(textGongGa.text);
                    var textBuGaSaeAek = parseInt(textBuGa.text);
                    if(isNaN(textGongGeupGaAek)) {
                        return "ìˆ«ìê°€ ì•„ë‹˜";
                    }
                    else {
                        return textGongGeupGaAek + textBuGaSaeAek;
                    }
                }
            }

            Button {
                id: addRecord
                text: qsTr("ì…ë ¥")
                onClicked: {
                    excelData.writeExcelRecord(maeip.mae, calendarButton.currentDate, supplierComboBox.currentText, productComboBox.currentText, textSize.text, textPrice.text, textAmount.text)
                    recordAddedPopup.open()
                }
            }
            Popup {
                id: recordAddedPopup
                width: 75
                height: 80
                x: mainWindow.width/2 - 75
                y: mainWindow.height/2 - 80

                modal: true
                closePolicy: Popup.CloseOnPressOutside
                contentItem: ColumnLayout {
                    Layout.alignment: Qt.AlignHCenter
                    Text {
                        text: qsTr("ì¶”ê°€ ì„±ê³µ")
                    }
                    Button {
                        text: qsTr("ë‹«ê¸°")
                        onClicked: recordAddedPopup.close()
                    }
                }
            }



        }

        RowLayout {           //ê²€ìƒ‰í•˜ëŠ” ë¶€ë¶„
            id: searchingRow
            spacing: 5
            //Layout.alignment: Qt.AlignHCenter
            Text {
                text: qsTr("ê²€ìƒ‰ ê¸°ê°„")
                font.pixelSize: 18
            }
            Button {
                id: searchCalendarFirst
                property date currentDate : new Date()
                text: qsTr(`${searchCalendarFirst.currentDate.getFullYear()}ë…„ ${searchCalendarFirst.currentDate.getMonth()+1}ì›” ${searchCalendarFirst.currentDate.getDate()}ì¼`)

                onClicked: {
                    scalendarPopup1.open()
                }
            }
            Popup {
                id: scalendarPopup1
                width: 270
                height: 300
                anchors.centerIn: mainWindow

                modal: true     //ë’¤ì— ë‹¤ë¥¸ìš”ì†Œì™€ ìƒí˜¸ì‘ìš© ì°¨ë‹¨ = true, í—ˆìš© = false
                closePolicy: Popup.CloseOnPressOutside    //escëˆ„ë¥´ë©´ ë‹«í˜
                contentItem: MyCalendar {
                    anchors.horizontalCenter: parent.horizontalCenter
                    anchors.top: parent.top
                    anchors.topMargin: 10
                    calendarParent: 1
                }
            }

            Button {
                id: searchCalendarSecond
                property date currentDate : new Date()
                text: qsTr(`${searchCalendarSecond.currentDate.getFullYear()}ë…„ ${searchCalendarSecond.currentDate.getMonth()+1}ì›” ${searchCalendarSecond.currentDate.getDate()}ì¼`)

                onClicked: {
                    scalendarPopup2.open()
                }
            }
            Popup {
                id: scalendarPopup2
                width: 270
                height: 300
                anchors.centerIn: mainWindow

                modal: true     //ë’¤ì— ë‹¤ë¥¸ìš”ì†Œì™€ ìƒí˜¸ì‘ìš© ì°¨ë‹¨ = true, í—ˆìš© = false
                closePolicy: Popup.CloseOnPressOutside    //escëˆ„ë¥´ë©´ ë‹«í˜
                contentItem: MyCalendar {
                    anchors.horizontalCenter: parent.horizontalCenter
                    anchors.top: parent.top
                    anchors.topMargin: 10
                    calendarParent: 2
                }
            }

            Text {
                text: qsTr("êµ¬ë¶„")
                font.pixelSize: 18
            }

            Button {
                id: searchMaeip
                property bool mae: true
                text: qsTr(searchMaeip.mae ? "ë§¤ì…" : "ë§¤ì¶œ")
                onClicked: {
                    searchMaeip.mae = searchMaeip.mae ? false : true
                }
            }

            Text {
                text: qsTr("ê±°ë˜ì²˜ëª…")
                font.pixelSize: 18
            }

            ComboBox {
                id: searchSupplierComboBox
                width: 200
                height: 25
                // ëª©ë¡ì— í‘œì‹œë  ë°ì´í„° ëª¨ë¸
                model: supplierList

                // í˜„ì¬ ì„ íƒëœ ì¸ë±ìŠ¤ (0ë¶€í„° ì‹œì‘)
                currentIndex: 0

                // ì„ íƒëœ í•­ëª©ì´ ë³€ê²½ë  ë•Œ ë™ì‘
                onActivated: (index) => {
                    console.log("ì„ íƒëœ ì˜µì…˜:", searchSupplierComboBox.currentText);
                }

                popup: Popup {
                    y: searchSupplierComboBox.height - 1
                    width: searchSupplierComboBox.width
                    height: Math.min(contentItem.implicitHeight, 600)
                    padding: 1

                    contentItem: ListView {
                        clip: true
                        implicitHeight: contentHeight
                        model: searchSupplierComboBox.popup.visible ? searchSupplierComboBox.delegateModel : null
                        currentIndex: searchSupplierComboBox.highlightedIndex

                        ScrollBar.vertical: ScrollBar {
                            policy: ScrollBar.AlwaysOn
                        }
                    }
                }
            }
            Text {
                text: qsTr("ìƒí’ˆëª…")
                font.pixelSize: 18
            }
            ComboBox {
                id: searchProductComboBox
                width: 200
                height: 25
                // ëª©ë¡ì— í‘œì‹œë  ë°ì´í„° ëª¨ë¸
                model: productList

                // í˜„ì¬ ì„ íƒëœ ì¸ë±ìŠ¤ (0ë¶€í„° ì‹œì‘)
                currentIndex: 0

                popup: Popup {
                    y: searchProductComboBox.height - 1
                    width: searchProductComboBox.width
                    height: Math.min(contentItem.implicitHeight, 600)
                    padding: 1

                    contentItem: ListView {
                        clip: true
                        implicitHeight: contentHeight
                        model: searchProductComboBox.popup.visible ? searchProductComboBox.delegateModel : null
                        currentIndex: searchProductComboBox.highlightedIndex

                        ScrollBar.vertical: ScrollBar {
                            policy: ScrollBar.AlwaysOn
                        }
                    }
                }

                // ì„ íƒëœ í•­ëª©ì´ ë³€ê²½ë  ë•Œ ë™ì‘
                onActivated: (index) => {
                    console.log("ì„ íƒëœ ì˜µì…˜ë²ˆí˜¸:", searchProductComboBox.currentIndex);
                }
            }

            Button {
                id: searchRecord
                text: qsTr("ê²€ìƒ‰")

                onClicked: {
                    if(excelData.readRecordRange(searchCalendarFirst.currentDate, searchCalendarSecond.currentDate, searchMaeip.mae, searchSupplierComboBox.currentText, searchProductComboBox.currentText)) {
                        //ë¨¼ì € ë¦¬ìŠ¤íŠ¸ë“¤ ì‹¹ë‹¤ ì´ˆê¸°í™”

                        mainWindow.readRows = [];
                        mainWindow.combinedModel = [];
                        mainWindow.amountSum = 0;
                        mainWindow.gonggaSum = 0;
                        mainWindow.bugaSum = 0;
                        mainWindow.hapgyeSum = 0;
                        mainWindow.ipamountSum = 0;
                        mainWindow.misuSum = 0;


                        //ê·¸ í›„ì— ê°’ë“¤ ë„£ì–´ì£¼ì
                        var recordGB = excelData.getResultGooboon();
                        var recordDate = excelData.getResultDate();
                        var recordSupplier = excelData.getResultSupplier();
                        var recordProduct = excelData.getResultProduct();
                        var recordSize = excelData.getResultSize();
                        var recordPrice = excelData.getResultPrice();
                        var recordQuantity = excelData.getResultQuantity();
                        var recordGongga = excelData.getResultGongga();
                        var recordBuga = excelData.getResultBuga();
                        var recordHapgye = excelData.getResultHapgye();
                        var recordIpdate = excelData.getResultIpdate();
                        var recordIpAmount = excelData.getResultIpAmount();
                        var recordMisu = excelData.getResultMisu();
                        var recordRows = excelData.getReadResultRows();

                        mainWindow.gaesoo = recordGB.length
                        console.log(recordGB.length, "ê°œë§Œí¼ ë°œê²¬");
                        for(let i=0;i<recordGB.length;i++) {
                            // console.log(recordGB[i], recordSupplier[i], recordProduct[i], recordSize[i], recordPrice[i], recordQuantity[i], recordGongga[i], recordBuga[i], recordHapgye[i]);
                            mainWindow.amountSum += recordQuantity[i];
                            mainWindow.gonggaSum += recordGongga[i];
                            mainWindow.bugaSum += recordBuga[i];
                            mainWindow.hapgyeSum += recordHapgye[i];
                            mainWindow.ipamountSum += recordIpAmount[i];
                            mainWindow.misuSum += recordMisu[i];
                            mainWindow.combinedModel.push({
                                gb: recordGB[i],
                                date: recordDate[i],
                                supplier: recordSupplier[i],
                                product: recordProduct[i],
                                size: recordSize[i],
                                price: recordPrice[i],
                                quantity: recordQuantity[i],
                                gongga: recordGongga[i],
                                buga: recordBuga[i],
                                hapgye: recordHapgye[i],
                                ipdate: recordIpdate[i],
                                ipamount: recordIpAmount[i],
                                misu: recordMisu[i],
                                rows: recordRows[i]
                            })

                        }
                        // console.log(JSON.stringify(mainWindow.combinedModel))
                        mainWindow.combinedModel = mainWindow.combinedModel

                    }
                    else {
                        searchFailed.open();
                        console.log("search failed");
                    }
                }
            }

            Popup {
                id: searchFailed
                width: 100
                height: 100

                modal: true
                closePolicy: Popup.CloseOnPressOutside
                contentItem: Column {
                    Text {
                        text: qsTr("ì¡°ê±´ì— ë§ëŠ” ê°’ ì—†ìŒ")
                    }
                    Button {
                        text: qsTr("X")
                        onClicked: searchFailed.close()
                    }
                }

            }

            Button {
                id: addIpgeumRecord
                text: qsTr("ì…ê¸ˆì •ë³´ ì…ë ¥")

                onClicked: searchResultList.searchClicked?ipgeumPopup.open():console.log("no")

            }

            Popup {
                id: ipgeumPopup
                width: 400
                height: 50

                modal: true
                closePolicy: Popup.CloseOnPressOutside
                contentItem: Row {
                    Text {
                        text: qsTr("ì…ê¸ˆì¼ ì…ë ¥")
                    }
                    TextField {
                        id: ipgeumDate
                        placeholderText: qsTr("YYYY-MM-DD")
                    }
                    Text {
                        text: qsTr("ì…ê¸ˆì•¡ ì…ë ¥")
                    }
                    TextField {
                        id: ipgeumAmount

                    }
                    Button {
                        id: ipgeumAdd
                        text: qsTr("ì…ë ¥")
                        onClicked: {
                            excelData.writeRecordIp(ipgeumDate.text, ipgeumAmount.text, searchResultList.selectedRow)
                        }
                    }
                    Button {
                        id: ipgeumCloseButton
                        text: qsTr("X")
                        onClicked: ipgeumPopup.close()
                    }
                }

            }
        }

        Rectangle {
            id: searchSum
            width: mainWindow.width - 50
            height: 100

            ColumnLayout {
                width: 5
                RowLayout {
                    width: 5
                    Text {
                        text: qsTr("ê±°ë˜ ë‚´ì—­ ìˆ˜")
                    }
                    Text {
                        text: qsTr("ìˆ˜ëŸ‰")
                    }
                    Text {
                        text: qsTr("ê³µê¸‰ê°€ì•¡")
                    }
                    Text {
                        text: qsTr("ë¶€ê°€ì„¸ì•¡")
                    }
                    Text {
                        text: qsTr("í•©ê³„ê¸ˆì•¡")
                    }
                    Text {
                        text: qsTr("ìˆ˜ê¸ˆì•¡")
                    }
                    Text {
                        text: qsTr("ë¯¸ìˆ˜ê¸ˆì•¡")
                    }
                }
                RowLayout {
                    width: 5

                    Text {
                        text: mainWindow.gaesoo
                    }
                    Text {
                        text: mainWindow.amountSum
                    }
                    Text {
                        text: mainWindow.gonggaSum
                    }
                    Text {
                        text: mainWindow.bugaSum
                    }
                    Text {
                        text: mainWindow.hapgyeSum
                    }
                    Text {
                        text: mainWindow.ipamountSum
                    }
                    Text {
                        text: mainWindow.misuSum
                    }
                }
            }
        }

        Rectangle {
            id: searchResult
            width: mainWindow.width - 50
            height: mainWindow.height - 300
            ColumnLayout {
            RowLayout {
                width: parent.width
                spacing: 5

                Text {
                    text: qsTr("êµ¬ë¶„")
                    Layout.preferredWidth: 40
                }

                Text {

                    text: qsTr("ê±°ë˜ì¼ì")
                }

                Text {

                    text: qsTr("ê±°ë˜ì²˜ëª…")
                }

                Text {

                    text: qsTr("ìƒí’ˆëª…")
                }

                Text {

                    text: qsTr("ê·œê²©")
                }

                Text {

                    text: qsTr("ë‹¨ê°€")
                }

                Text {

                    text: qsTr("ìˆ˜ëŸ‰")
                }

                Text {

                    text: qsTr("ê³µê¸‰ê°€ì•¡")
                }

                Text {

                    text: qsTr("ë¶€ê°€ì„¸ì•¡")
                }

                Text {

                    text: qsTr("í•©ê³„ê¸ˆì•¡")
                }

                Text {

                    text: qsTr("ì…ê¸ˆì¼")
                }

                Text {

                    text: qsTr("ì…ê¸ˆì•¡")
                }

                Text {
                    text: qsTr("ë¯¸ìˆ˜ê¸ˆì•¡")
                }
            }

            ListView {
                id: searchResultList
                property bool searchClicked: false
                property int selectedRow        //ì…ê¸ˆì¼, ì…ê¸ˆì•¡ ì¶”ê°€í• ë•Œ ëª‡ë²ˆì§¸ì¤„ì¸ì§€ ì €ì¥í•  ë³€ìˆ˜
                width: searchResult.width - 10
                height: searchResult.height - 10
                anchors.centerIn: searchResult

                model: mainWindow.combinedModel

                delegate: ItemDelegate {
                    width: parent.width
                    height: 35
                    onClicked: {
                        searchResultList.selectedRow = modelData.rows
                        searchResultList.searchClicked = true
                        console.log("clicked:", modelData.rows)

                    }
                    Row {
                        width: parent.width
                        spacing: 5

                        Text {
                            id: gooboon1
                            text: modelData.gb
                            //Layout.preferredWidth: 40
                        }

                        Text {
                            id: date1
                            text: modelData.date
                        }

                        Text {
                            id: supplier1
                            text: modelData.supplier
                        }

                        Text {
                            id: product1
                            text: modelData.product
                        }

                        Text {
                            id: size1
                            text: modelData.size
                        }

                        Text {
                            id: price1
                            text: modelData.price
                        }

                        Text {
                            id: quan1
                            text: modelData.quantity
                        }

                        Text {
                            id: gongga1
                            text: modelData.gongga
                        }

                        Text {
                            id: buga1
                            text: modelData.buga
                        }

                        Text {
                            id: hapgye1
                            text: modelData.hapgye
                        }

                        Text {
                            id: ipdate1
                            text: modelData.ipdate
                        }

                        Text {
                            id: ipamount1
                            text: modelData.ipamount
                        }

                        Text {
                            id: misu1
                            text: modelData.misu
                        }
                    }
                }



            }

            }

        }
    }


}
